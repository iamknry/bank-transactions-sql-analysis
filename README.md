# bank-transactions-sql-analysis
SQL analysis of financial transactions dataset (Kaggle). The project covers users, cards, and transactions: summary metrics, income vs credit limits, geographic distribution of spending.


Проект по анализу банковских транзакций и пользовательских данных на основе публичного Fraud Dataset.

Цель — закрепить навыки работы с SQL и построить ключевые метрики по картам, пользователям и транзакциям, а также изучить взаимосвязь доходов, кредитных лимитов и кредитного рейтинга.

Структура проекта:

- 01_cards_users_transactions_summary.sql — базовые метрики: количество карт, пользователей и транзакций, среднее число карт на пользователя.

- 02_transactions.sql — суммарные показатели транзакций, распределение по типам (swipe/chip/online), динамика по годам и доля отрицательных транзакций.

- 03_credit_limits_and_income.sql — средние кредитные лимиты по брендам карт, корреляция между доходом и лимитом, распределение долгов по группам кредитного рейтинга.

- 04_geo_analysis.sql — топ-10 штатов, городов и торговцев по объёму транзакций.

- PNG-файлы — сохранённые результаты выполнения запросов (таблицы и графики).

Результаты
1. Базовые метрики:
- Всего пользователей: более 2 тысяч, карт — около 4,5 тыс.
- Среднее количество карт на пользователя — от 1 (Amex, Discover, Visa) до 2 (Mastercard).
-Количество транзакций сильно различается по брендам: Mastercard и Visa лидируют.

2. Транзакции:
- Всего транзакций: 13,3 млн.
- Суммарная сумма транзакций: $571,8 млн.
- Средняя сумма транзакции: $42,98.

Распределение по типам транзакций:
- Swipe — 6,97 млн
- Chip — 4,78 млн
- Online — 1,55 млн


Отрицательные транзакции: 4,96% (могут указывать на возвраты или ошибки).



Динамика по годам: рост с 2010 до 2018 года, затем спад в 2019.


3. Кредитные лимиты и доходы

Средние лимиты по картам:
- Visa — $14 737
- Mastercard — $14 659
- Amex — $11 436
- Discover — $10 816

Корреляция доходов и кредитных лимитов: 0.55 (умеренная положительная зависимость).

Средний долг по кредитному рейтингу:
- Fair (580–669) и Poor (480–579) — наибольший долг.
- Excellent (800–850) — наименьший.

4. География транзакций
- Топ-штаты по объёму транзакций: CA, TX, NY, FL.
- Топ-города по средней сумме транзакции: Islandia, Milmay, Atascosa.
- Топ-торговцы по сумме транзакций: несколько крупных компаний концентрируют значительную часть оборота.

Вывод

- В базе 13 млн транзакций, что позволяет строить надёжные метрики. Большая часть операций приходится на физические транзакции (swipe и chip), онлайн занимает меньшую долю. ~5% транзакций отрицательные, что может свидетельствовать о возвратах или проблемах. Доход и кредитный лимит связаны умеренно: чем выше доход, тем выше лимит. Пользователи с низким кредитным рейтингом несут больший долг. Географически наибольшая активность наблюдается в Калифорнии, Техасе и Нью-Йорке. С помощью таких SQL-запросов можно выделить ключевые закономерности: активность пользователей по брендам карт, структуру транзакций, кредитные риски и географическую концентрацию.
